<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Registro Académico</title>
    <!-- ICONO DE LA PAGINA -->
    <link rel="shortcur icon" href="img/admin.ico">
    <!--=============================================
    =            Include CSS files           =
    ==============================================-->
  <!-- TOASTER -->
    <link rel="stylesheet" href="js/toastr/toastr.min.css" >
  <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="js/plugins/fontawesome-pro-5.14.0-web/css/all.min.css">

    <!-- Bootstrap 5.1.3 -->
  <!--  <link rel="stylesheet" href="js/plugins/fontawesome-free/css/all.min.css"> -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" />
  <!-- Or for RTL support -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.rtl.min.css" />
  <!-- Bootstrap 4.0
    <link rel="stylesheet" href="js/plugins/bootstrap4/css/bootstrap.min.css">-->
    <!-- DataTables -->
    <link rel="stylesheet" href="js/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <!-- DataTables responsive-->
    <link rel="stylesheet" href="js/plugins/responsive/css/responsive.bootstrap.min.css">
    <!-- Ionicons 
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">  -->
    <!-- Theme style 
    <link rel="stylesheet" href="css/adminlte.min.css"> -->
    <link rel="stylesheet" href="docs/assets/css/docs.css">
    <link rel="stylesheet" href="docs/assets/css/highlighter.css">
    <link rel="stylesheet" href="docs/assets/css/adminlte.css">
    <!-- Google Font: Source Sans Pro -->
    <!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">-->
    <!-- Theme style PACE-->
    <link href="js/pace/bounce.css" rel="stylesheet" />
    <!-- BOTON ARRIBA STYLE -->
    <style>
      /*Flecha para hacer la pagina hacia arriba*/
      .ir-arriba{
        display:none;
        background-repeat:no-repeat;
        font-size:20px;
        color:black;
        cursor:pointer;
        position:fixed;
        bottom:10px;
        right:10px;
        z-index:2;
      }
    </style>
    <!--=============================================
    =            Include JavaScript files           =
    ==============================================-->
      <!-- jQuery V3.4.1 -->
        <script src="./js/jquery-3.7.1.min.js"></script>
      <!-- popper -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js"></script>

      <!-- SELECT 2 -->
      <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
      <!-- JS NUMERIC -->
        <script src="./js/jqueryNumeric/jquery.numeric.js" ></script>
      <!-- JS  METADATA, VALIDATE Y MESSAGES -->
      <!--<script type="text/javascript" src="js/jquery-validation-1.19.1/lib/jquery.metadata.js"></script> -->
        <script type="text/javascript" src="js/jquery-validation-1.19.1/dist/jquery.validate.min.js"></script>
        <script type="text/javascript" src="js/jquery-validation-1.19.1/dist/localization/messages_es.js"></script>
      <!-- Bootstrap 4 
        <script src="./js/plugins/bootstrap/js/bootstrap.bundle.min.js"></script> -->
        <script src="docs/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="docs/assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
      <!-- DataTables -->
        <script src="./js/plugins/datatables/jquery.dataTables.js"></script>
        <script src="./js/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
      <!-- DataTables Responsive -->
        <script src="./js/plugins/responsive/js/dataTables.responsive.min.js"></script>
        <script src="./js/plugins/responsive/js/responsive.bootstrap4.min.js"></script>
      <!-- AdminLTE App 
        <script src="js/adminlte.min.js"></script> -->
        <script src="docs/assets/js/adminlte.min.js"></script>
        <script src="docs/assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
      <!-- PACE JS -->
        <script src="./js/pace/pace.min.js"></script>
      <!-- JS TOASTR. -->
        <script type="text/JavaScript" src="./js/toastr/toastr.min.js"></script> <!-- MENSAJES -->
          <!-- SweetAlert2 -->
        <script src="./js/sweetalert2/sweetalert2.all.min.js"></script>
      <!-- CONFIGURACIÓN DEL SWITCH -->
    <script>
      $(document).ready(function(){ //Hacia arriba
        var toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');
        var currentTheme = localStorage.getItem('theme');
        var mainHeader = document.querySelector('.main-header');
        if (currentTheme) {
          if (currentTheme === 'dark') {
            if (!document.body.classList.contains('dark-mode')) {
              document.body.classList.add("dark-mode");
            }
            if (mainHeader.classList.contains('navbar-light')) {
              mainHeader.classList.add('navbar-dark');
              mainHeader.classList.remove('navbar-light');
            }
            toggleSwitch.checked = true;
          }
        }
        function switchTheme(e) {
          if (e.target.checked) {
            if (!document.body.classList.contains('dark-mode')) {
              document.body.classList.add("dark-mode");
            }
            if (mainHeader.classList.contains('navbar-light')) {
              mainHeader.classList.add('navbar-dark');
              mainHeader.classList.remove('navbar-light');
            }
            localStorage.setItem('theme', 'dark');
          } else {
            if (document.body.classList.contains('dark-mode')) {
              document.body.classList.remove("dark-mode");
            }
            if (mainHeader.classList.contains('navbar-dark')) {
              mainHeader.classList.add('navbar-light');
              mainHeader.classList.remove('navbar-dark');
            }
            localStorage.setItem('theme', 'light');
          }
        }
          toggleSwitch.addEventListener('change', switchTheme, false);
      });
    </script>
    <!-- PACE CONFIG. -->
    <script>
      paceOptions = {
        catchupTime: 100,
        minTime: 250,
        ghostTime: 100,
        maxProgressPerFrame: 20,
        easeFactor: 1.25,
        startOnPageLoad: true,
        restartOnPushState: true,
        restartOnRequestAfter: 500,
        target: 'body',
        elements: {
          checkInterval: 100,
          selectors: ['body']
        },
        eventLag: {
          minSamples: 10,
          sampleCount: 3,
          lagThreshold: 3
        },
        ajax: {
          trackMethods: ['POST'],
          trackWebSockets: true,
          ignoreURLs: []
        }
      };	
    </script>
    <!-- CONFIGURACIÓN DE TOASTR -->
    <script type="text/javascript">
      toastr.options = {
        "closeButton": true,
        "debug": false,
        "newestOnTop": false,
        "progressBar": false,
        "positionClass": "toast-top-center",
        "preventDuplicates": false,
        "onclick": null,
        "showDuration": "200",
        "hideDuration": "500",
        "timeOut": "5000",
        "extendedTimeOut": "500",
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
      }
    </script>
    <!-- BOTON ARRIBA SCRIPT -->
    <script>
      $(document).ready(function(){ //Hacia arriba
        irArriba();
      });
      //		
      function irArriba(){
        $('.ir-arriba').click(function(){ $('body,html').animate({ scrollTop:'0px' },1000); });
        $(window).scroll(function(){
          if($(this).scrollTop() > 0){ $('.ir-arriba').slideDown(600); }else{ $('.ir-arriba').slideUp(600); }
        });
        $('.ir-abajo').click(function(){ $('body,html').animate({ scrollTop:'1000px' },1000); });
      }
    </script>
      <!-- JS BOOTSTRAP. 
        <script type="text/JavaScript" src="js/bootstrap-select/js/bootstrap-select.min.js"></script>  -->
        <!-- MENSAJES -->
        <script type="text/javascript" src="./js/principal_js_login.js"></script>

        <script type="text/javascript">
          function MostrarMensaje(){
              $.ajax({
                type: "POST",
                url: "includes/backup.php",
                //data: dataString,
                success: function() {
                toastr.success("Respaldo realizado"); 
                }
            });
          }
          // Se establece el tiempo 1s = 1000 milisegundos.
          setInterval(MostrarMensaje, 3600000);
        </script>
      <!-- CONFIGURACI`´ON DE ESTILOS PARA TODO EL SISTEMA EN FORMULARIOS, INPUT, SELECT, ETC.-->
        <style>
          body{
            background-color: hsla(197, 71%, 39%, 0.7);
            color: black;
          }
          label{
            color: black;
          }
          .fondoBody{
            background-color: hsla(197, 77%, 83%, 0.7);;
          }

          .content-wrapper{
            background-color: hsla(197, 77%, 83%, 0.7);;
          }

          .card{
            background-color: hsl(125, 30%, 92%);
          }

          .form-control{
            background-color: hsla(183, 78%, 83%, 0.986);
          }
          .custom-select{
            background-color: hsla(184, 69%, 81%, 0.986);
            color:black;
          }
          /* LOADSCRENN*/
          #loading-screen{
            display: none;
          }
        </style>
  </head>
    {% block extraCSS %}

    {% endblock %}
        
    {% block javascripts %}{% endblock %}
  <!-- BODY PRINCIPAL DEL USUARIO CUANDO YA HA CARGADO SU PERFIL. }} -->
  <body class="hold-transition sidebar-mini">
    <div class="wrapper">
        {% if logo_uno != '' %}
          <!-- Preloader x
      <div class="preloader d-flex justify-content-center">
        <div class="row">
          <div class="col">
            <img src='img/{{ logo_uno }}' alt="" height="160" width="120">
          </div>
        </div>

        <div class="row">
          <div class="col">
            <h1>
              <label>
                {{ nombre_institucion }}
              </label>
            </h1>
          </div>
        </div>
      </div> -->
          <!-- Navbar -->
          <nav class="main-header navbar navbar-expand text-bg-dark p-0">
            <!-- Left navbar links -->
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" data-widget="pushmenu" href="#" aria-label="menu"><i class="fas fa-bars"></i></a>
              </li>
              <li class="nav-item d-none d-sm-inline-block">
                <a href="index.php" class="nav-link"><label class="label">Home</label></a>
              </li>
              <div class="theme-switch-wrapper nav-link">
                <label class="theme-switch" for="checkbox">
                  <input class="form-control" type="checkbox" id="checkbox" aria-label="check1">
                  <span class="slider round"></span>
                </label>
              </div>
            </ul>
            <!-- Right navbar links -->
            <ul class="navbar-nav ml-auto">
              <li>
              <!-- Messages Dropdown Menu -->
                <a class="nav-link" href="logout.php">
                  <i class="fas fa-power-off"></i>
                    <label class="label">Usuario: {{ userName }}</label>
                </a>
              </li>
            </ul>
          </nav>
            <!-- /.navbar -->
            <!-- Main container -->
            <!-- Main Sidebar Container -->
              <aside class="main-sidebar sidebar-dark-primary elevation-4">
                <!-- Brand Logo -->
                <a href="#" class="brand-link">
                  <img src="./img/{{ logo_uno }}" alt="" class="brand-image img-circle elevation-3 bg-white" />
                  <span class="brand-text font-weight-light">CE {{ codigo_institucion }}</span>
                </a>
                <!-- Sidebar -->
                <div class="sidebar">
                  <!-- Sidebar user panel (optional) -->
                  <div class="user-panel mt-3 pb-3 mb-3 d-flex">
                    <div class="image">
                      <img src="./images/nofoto.jpg" class="img-circle elevation-2" alt="">
                    </div>
                    <div class="info">
                      <a href="#" class="d-block">{{ nombre_perfil }}</a>
                    </div>
                  </div>
                  <!-- Sidebar Menu -->
                  <nav class="mt-2">
                    <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
                      <!-- Add icons to the links using the .nav-icon class
                      with font-awesome or any other icon font library -->
                      <!-- plantilla que contiene el menú principal.  -->
                          {% include 'layout-menu.html' %}
                      <!-- *****************************************  -->
                    </ul>
                  </nav>
                  <!-- /.sidebar-menu -->
                </div>
                <!-- /.sidebar -->
              </aside>
          <!-- Page header -->
          <!-- CONTENIDO PRINCIPAL DE LA PAGINA, EN EL CUAL SIRVE DE CONTENEDOR-->
          {% block contenidos %}
          
          {% endblock %}
          <!-- Main Footer -->
          <footer class="main-footer text-black bg-black p-1">
            <!-- To the right -->
            <div class="float-right d-none d-sm-inline">
              <small>{{ nombre_institucion }}</small>
            </div>
            <!-- Default to the left -->
            <small>
              <strong>Copyright &copy; 2014-2024 Registro Académico.</strong> 
              <a href="AcercaDe.php">Acerca de...</a>
            </small>
          </footer>
        {% else %}        
          {% block menu %}{% endblock %}		
          {% block loginUser %}{% endblock %}
        {% endif %}
    </div>
    <!-- Boton hacia arriba -->
    <a class="ir-arriba"  javascript:void(0) title="Volver arriba">
      <span class="fa-stack">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-arrow-up fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </body>
</html>